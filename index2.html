<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Planets of Faith</title>
  <link href="https://fonts.cdnfonts.com/css/farm-wave-free" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang&family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  background: #2a231f;
  height: 20000vh; /* ìŠ¤í¬ë¡¤ ê±°ë¦¬ */

  -ms-overflow-style: none;  /* IE, Edge */
  scrollbar-width: none;     /* Firefox */
}
body::-webkit-scrollbar {
  display: none;
}

/* ë“œë˜ê·¸ ë°©ì§€ìš© ê³µí†µ í´ë˜ìŠ¤ */
.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* ë©”ì¸ í—¤ë”© (Farm Wave í°íŠ¸) */
.main-heading {
  font-family: 'Farm Wave Free', sans-serif;
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  color: #F4E4DC;
  font-size: 2.7rem;
  text-shadow: 0 0 12px rgba(0,0,0,0.6);
  z-index: 20;
  white-space: nowrap;
}

/* ìƒë‹¨ ì„œë¸Œí…ìŠ¤íŠ¸ */
.title {
  font-family: "Gowun Batang", serif;
  position: fixed;
  top: 80px; /* ë©”ì¸ í—¤ë”© ì•„ë˜ */
  left: 50%;
  transform: translateX(-50%);
  color: #F4E4DC;
  font-size: 1rem;
  text-shadow: 0 0 8px rgba(0,0,0,0.6);
  z-index: 20;
}

/* í–‰ì„± ì „ì²´ ë°•ìŠ¤ */
.planet {
  position: fixed;
  left: 50%;
  bottom: 0;
  transform: translate(-50%, 160vw);
  width: 180vw;
  height: 180vw;
  z-index: 5;
}

/* ì‹¤ì œë¡œ íšŒì „í•˜ëŠ” í–‰ì„± ì´ë¯¸ì§€(ê°€ìƒ ìš”ì†Œ) */
.planet::before {
  content: "";
  position: absolute;
  inset: 0;
  background: url("planet0.png") center top / cover no-repeat;
  transform-origin: 50% 50%;
  transform: rotate(var(--planet-angle, 0deg));
  pointer-events: none; 
}

/* ë°°ê²½ ìš°ì£¼ ë ˆì´ì–´ */
.bg-layer {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 220vmax;
  height: 220vmax;
  background: url("backgroundspace.jpg") center/cover no-repeat;
  z-index: -2;
  pointer-events: none;
  transform-origin: 50% 60%;
  transform: translate(-50%, -50%) rotate(0deg);
}

/* â­ í–‰ì„± ì¤‘ì‹¬ì„ ê¸°ì¤€ìœ¼ë¡œ ë„ëŠ” ë³„ ë ˆì´ì–´ */
.orbit-layer {
  position: absolute;
  inset: 0;
  transform-origin: 50% 50%;
  transform: rotate(var(--orbit-angle, 0deg));
  z-index: 15;
  opacity: 1;
  pointer-events: none; 
  transition: opacity 1s ease;
}

/* ë³„ ì•µì»¤ */
.orbit-dot {
  position: absolute;
  top: 50%;
  left: 50%;
  transform-origin: 50% 50%;
  pointer-events: auto;
}

/* ê³ í–¥ë³„ ìœ„ì¹˜ */
.orbit-dot:nth-child(1) {
  transform: translate(-50%, -50%) rotate(0deg) translateY(-114vw);
}

/* ì‹¤ì œ ë³„ ì½”ì–´ */
.orbit-dot::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: white;
  box-shadow: 0 0 12px rgba(255,255,255,0.9);
  transform: translate(-50%, -50%);
  animation: twinkle 3s ease-in-out infinite alternate;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

/* í˜¸ë²„ hitbox */
.orbit-dot::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 30px;
  height: 30px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: transparent;
}

/* í˜¸ë²„ ì‹œ */
.orbit-dot:hover::after {
  transform: translate(-50%, -50%) scale(1.35);
  animation: none;
  box-shadow: 0 0 20px rgba(255,255,255,1);
}

/* ë°˜ì§ì„ */
@keyframes twinkle {
  0%   { opacity: 0.3; box-shadow: 0 0 4px rgba(255,255,255,0.4); }
  50%  { opacity: 0.9; box-shadow: 0 0 12px rgba(255,255,255,1); }
  100% { opacity: 0.5; box-shadow: 0 0 6px rgba(255,255,255,0.7); }
}

/* íˆ´íŒ (ê³ í–¥ë³„ìš©) */
.tooltip {
  position: fixed;
  padding: 8px 12px;
  background: #F4E4DC;
  color: #2a231f;
  border-radius: 8px;
  font-family: "Gowun Batang", serif;
  font-size: 0.8rem;
  box-shadow: 0 4px 16px rgba(0,0,0,0.25);
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
  transform: translate(-15%, -50%);
  transition: opacity 0.15s ease;
  z-index: 100000;
}

.tooltip-title {
  font-weight: 700;
}

.tooltip-desc {
  line-height: 1.4;
  white-space: nowrap;
}

/* ê±·ëŠ” ìºë¦­í„° */
.walker {
  position: fixed;
  left: 50%;
  bottom: 8vh;
  transform: translateX(-50%);
  width: 800px;
  height: 800px;
  background-image: url("walkani.png");
  background-repeat: no-repeat;
  background-position: 0 0;
  transform-origin: 50% 100%;
  opacity: 1;
  transition: opacity 1s ease;
  z-index: 10;
  pointer-events: none;
}

/* ğŸ”¹ ì™¸ê³„ì¸ ë ˆì´ì–´ */
.alien-layer {
  position: absolute;
  inset: 0;
  transform-origin: 50% 50%;
  transform: rotate(var(--planet-angle, 0deg));
  z-index: 8;
  pointer-events: auto;
}

/* í–‰ì„± ë‘˜ë ˆì— ë°°ì¹˜ë  ì™¸ê³„ì¸ ì•µì»¤ */
.alien-slot {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 18vw;   /* ë§í’ì„ ì´ ìˆ¨ì‰´ ìˆ˜ ìˆê²Œ ê°€ë¡œ í­ ë„“ê²Œ */
  height: 18vw;
  transform-origin: 50% 50%;
  cursor: pointer;
}

/* ğŸ”¹ ì™¸ê³„ì¸ ìŠ¤í”„ë¼ì´íŠ¸: í¬ê¸°ëŠ” ë”°ë¡œ ì œì–´ (ë§í’ì„  í­ê³¼ ë¶„ë¦¬) */
.alien-sprite {
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 16vw;     /* ì‹¤ì œ ì™¸ê³„ì¸ í¬ê¸° */
  height: 16vw;
  transform: translateX(-50%);
  transform-origin: 50% 100%;
  background-repeat: no-repeat;
  background-size: 200% 100%; /* 2í”„ë ˆì„ ì‹œíŠ¸ */
  background-position: 0 0;
}

/* ì„ íƒëœ ì™¸ê³„ì¸ ê¸€ë¡œìš° */
.alien-sprite.glow {
  filter:
    drop-shadow(0 0 10px rgba(244, 228, 220, 0.9))
    drop-shadow(0 0 25px rgba(244, 228, 220, 0.7));
}

/* ë§í’ì„  (ê° ì™¸ê³„ì¸ ì „ìš©) */
.alien-bubble {
  position: absolute;
  left: 50%;
  bottom: calc(100% - 24px);    /* ì™¸ê³„ì¸ ë¨¸ë¦¬ì—ì„œ 10px ìœ„ë¡œ ê³ ì • */
  transform: translateX(-50%);  /* Xì¶•ë§Œ ê°€ìš´ë° ì •ë ¬ */

  display: inline-block;        /* í…ìŠ¤íŠ¸ ê¸¸ì´ì— ë§ê²Œ ë”± ë§ì¶°ì§€ë„ë¡ */

  background: #F4E4DC;
  color: #2a231f;
  font-family: "Gowun Batang", serif;
  font-size: 0.75rem;
  line-height: 1.4;

  padding: 6px 10px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);

  max-width: 120px;
  width: auto;
  white-space: normal;
  word-break: break-all;

  opacity: 0;
  z-index: 9;
  pointer-events: none;  /* ë²„ë¸”ì€ ì§ì ‘ í´ë¦­ X, ìŠ¬ë¡¯ì´ í´ë¦­ */
  transition: opacity 0.2s ease;
}

/* ë§í’ì„  ê¼¬ë¦¬ (ìœ„ìª½ ë²„ì „) */
.alien-bubble::after {
  content: "";
  position: absolute;
  left: 50%;
  bottom: -6px;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 6px solid #F4E4DC;
}

/* hover / ì„ íƒ ì‹œ: ë³´ì´ê¸°ë§Œ (ìœ„ì¹˜ëŠ” ê·¸ëŒ€ë¡œ) */
.alien-bubble.visible,
.alien-bubble.selected {
  opacity: 1;
}

/* ============================
   ğŸ’« ê·€ì—¬ìš´ í˜¸ë²„ & í´ë¦­ ì• ë‹ˆë©”ì´ì…˜
   ============================ */

/* ì‹ ë‚˜ì„œ ë§í•˜ëŠ” ê²ƒì²˜ëŸ¼ í†µí†µ ìœ„ê¸€ (í˜¸ë²„) */
/* âœ¨ ì‹ ë‚˜ì„œ í†µí†µ ì í”„í•˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ */
@keyframes alien-happy-jump {
  0% {
    transform: translateX(-50%) translateY(0) scale(1.10);
  }
  15% {
    transform: translateX(-50%) translateY(-18px) scale(1.12, 1.08);
  }
  30% {
    transform: translateX(-50%) translateY(-26px) scale(1.14, 1.06);
  }
  45% {
    transform: translateX(-50%) translateY(-14px) scale(1.09, 1.12);
  }
  60% {
    transform: translateX(-50%) translateY(0) scale(1.06, 1.14); /* ì°©ì§€ ìˆœê°„ */
  }
  70% {
    transform: translateX(-50%) translateY(-6px) scale(1.12, 1.08); /* ì‘ì€ ë°˜ë™ */
  }
  100% {
    transform: translateX(-50%) translateY(0) scale(1.10);
  }
}

/* ìŠ¬ë¡¯ì— ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´: pop(í´ë¦­ ì• ë‹ˆë©”ì´ì…˜) ì¤‘ì´ ì•„ë‹ ë•Œë§Œ ì í”„ ë°˜ë³µ */
.alien-slot:hover .alien-sprite:not(.pop) {
  animation: alien-happy-jump 0.55s infinite ease-out;
}
@keyframes alien-bouncy-jump {
  0%   { transform: translateX(-50%) translateY(0) scale(1.10); }
  15%  { transform: translateX(-50%) translateY(-18px) scale(1.12, 1.08); }
  30%  { transform: translateX(-50%) translateY(-26px) scale(1.14, 1.06); }
  45%  { transform: translateX(-50%) translateY(-14px) scale(1.09, 1.12); }
  60%  { transform: translateX(-50%) translateY(0) scale(1.06, 1.14); }
  70%  { transform: translateX(-50%) translateY(-6px) scale(1.12, 1.08); }
  100% { transform: translateX(-50%) translateY(0) scale(1.10); }
}

/* í˜¸ë²„ â†’ ì í”„ */
.alien-slot:hover .alien-sprite:not(.pop) {
  animation: alien-bouncy-jump 0.45s infinite cubic-bezier(.28, .84, .42, 1);
}

/* ì„ íƒëœ ì• ë“¤ â†’ í˜¸ë²„ ì—†ì–´ë„ ê³„ì† ì í”„ */
.alien-sprite.selected:not(.pop) {
  animation: alien-bouncy-jump 0.45s infinite cubic-bezier(.28, .84, .42, 1);
}


/* í´ë¦­ ì‹œ: ì ê¹ ì‘ì•„ì¡Œë‹¤ê°€ í†µ! í•˜ê³  ëŒì•„ì˜¤ê¸° */
@keyframes alien-click-pop {
  0% {
    transform: translateX(-50%) translateY(0) scale(1);
  }
  40% {
    transform: translateX(-50%) translateY(1px) scale(0.8);
  }
  100% {
    transform: translateX(-50%) translateY(0) scale(1.05);
  }
}


/* í´ë¦­ íŒ ì• ë‹ˆë©”ì´ì…˜ */
.alien-sprite.pop {
  animation: alien-click-pop 0.2s ease-out;
}


/* ê° ì™¸ê³„ì¸ ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ ì—°ê²° */
.alien1 { background-image: url("alien1.png"); }
.alien2 { background-image: url("alien2.png"); }
.alien3 { background-image: url("alien3.png"); }
.alien4 { background-image: url("alien4.png"); }
.alien5 { background-image: url("alien5.png"); }
.alien6 { background-image: url("alien6.png"); }
.alien7 { background-image: url("alien7.png"); }

/* ì „ì²´ ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
html {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
html::-webkit-scrollbar {
  display: none;
}

/* ğŸ”¹ í´ë¦­ ì‹œ íŒŒí‹°í´ */
/* ğŸ”¹ ë³„ ëª¨ì–‘ íŒŒí¸ */
/* ğŸ”¹ ë” í° ë³„ íŒŒí¸ */
.particle {
  position: fixed;
  width: 12px;      /* ğŸ”¥ ê¸°ì¡´ë³´ë‹¤ 2~3ë°° í¬ê²Œ */
  height: 12px;
  clip-path: polygon(
    50% 0%,
    61% 35%,
    98% 35%,
    68% 57%,
    79% 100%,
    50% 75%,
    21% 100%,
    32% 57%,
    2% 35%,
    39% 35%
  );
  background: rgba(244, 228, 220, 1);
  box-shadow: 
    0 0 18px rgba(244, 228, 220, 1),
    0 0 30px rgba(244, 228, 220, 0.8);  /* ë” ê°•í•œ ë°œê´‘ */
  pointer-events: none;
  z-index: 40;

  transform: translate(0, 0) scale(1);
  animation: particleExplode 1s cubic-bezier(.12,.78,.36,.99) forwards;
}

/* ğŸ”¹ ë” ë©€ë¦¬ ì„¸ê²Œ ë‚ ì•„ê°€ëŠ” ì• ë‹ˆë©”ì´ì…˜ */
@keyframes particleExplode {
  0% {
    transform: translate(0, 0) scale(1.2);  /* ì‹œì‘í•  ë•Œ ì‚´ì§ í° ëŠë‚Œ */
    opacity: 1;
  }
  100% {
    transform: translate(var(--dx), var(--dy)) scale(0.4);
    opacity: 0;
  }
}
.relation-prev-btn,
.relation-next-btn {
  display: inline-block;
  width: 0;
  height: 0;
  cursor: pointer;
  vertical-align: middle;
  transition: transform 0.2s ease, filter 0.2s ease;
}

/* â—€ ì´ì „ ë²„íŠ¼ */
.relation-prev-btn {
  margin-right: 14px;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
  border-right: 14px solid #F4E4DC;
}

/* â–¶ ë‹¤ìŒ ë²„íŠ¼ */
.relation-next-btn {
  margin-left: 14px;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
  border-left: 14px solid #F4E4DC;
}

/* hover íš¨ê³¼ */
.relation-prev-btn:hover {
  transform: translateX(-3px);
  filter: drop-shadow(0 0 6px rgba(244, 228, 220, 0.8));
}

.relation-next-btn:hover {
  transform: translateX(3px);
  filter: drop-shadow(0 0 6px rgba(244, 228, 220, 0.8));
}


</style>
</head>

<body>
  <!-- ë°°ê²½ ìš°ì£¼ -->
  <div class="bg-layer"></div>

  <!-- í–‰ì„± + ê³ í–¥ë³„ + ì™¸ê³„ì¸ë“¤ -->
  <div class="planet">
    <div class="orbit-layer">
      <div class="orbit-dot"
           data-title="Go Home"
           data-desc="íƒí—˜ì„ ë§ˆì¹œ ë’¤ ê³ í–¥ë³„ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤."></div>
    </div>

    <!-- ì™¸ê³„ì¸ë“¤: JSê°€ 35ë§ˆë¦¬ ì±„ìš¸ ì˜ˆì • -->
    <div class="alien-layer"></div>
  </div>

  <!-- ìƒë‹¨ í…ìŠ¤íŠ¸ë“¤ -->
<div class="main-heading no-select">
  <span class="relation-prev-btn"></span>
  The Planet of Relation
  <span class="relation-next-btn"></span>
</div>
  <div class="title no-select">í–‰ì„±ì„ íƒí—˜í•˜ë©°, ë§ˆìŒì— ë“œëŠ” ë§ë“¤ì„ í´ë¦­í•´ ìˆ˜ì§‘í•´ë³´ì„¸ìš”.</div>

  <!-- ê±·ëŠ” ìºë¦­í„° -->
  <div class="walker"></div>

  <!-- íˆ´íŒ (ê³ í–¥ë³„ìš©) -->
  <div class="tooltip" id="planetTooltip">
    <div class="tooltip-title"></div>
    <div class="tooltip-desc"></div>
  </div>

<script>
  const planet = document.querySelector('.planet');
  const bg = document.querySelector('.bg-layer');
  const walker = document.querySelector('.walker');
  const orbitLayer = document.querySelector('.orbit-layer');
  const dots = document.querySelectorAll('.orbit-dot');
  const tooltip = document.getElementById('planetTooltip');
  const tooltipTitle = tooltip.querySelector('.tooltip-title');
  const tooltipDesc = tooltip.querySelector('.tooltip-desc');

  /* ============================
     ğŸ”¹ ì™¸ê³„ì¸ë“¤ ë™ì ìœ¼ë¡œ ìƒì„±
     ============================ */
  const ALIEN_LINES = [
    "ê¹Šì€ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆŒ ìˆ˜ ìˆëŠ” ì‚¬ëŒë“¤ì´ ì¢‹ì•„ìš”.", // 1
    "ì‚¬ëŒë“¤ê³¼ ê¹Šì€ ì´ì•¼ê¸°ë¥¼ í•˜ëŠ” ê²ƒì´ í˜ë“¤ì–´ìš”.", // 2
    "ì·¨ì•½í•¨ì„ ê³µìœ í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒì´ ì¢‹ì•„.", // 3
    "íƒ€ì¸ì—ê²Œ ì·¨ì•½í•œ ëª¨ìŠµì„ ë³´ì´ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šì•„ìš”.", // 4
    "ê°ˆë“±ì€ ê´€ê³„ê°€ ëˆë…í•´ì§€ëŠ” ê±´ê°•í•œ ê³¼ì •ì´ì—ìš”.", // 5
    "ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒì¼ìˆ˜ë¡ ë” ì†Œê·¹ì ì´ì—ìš”.", // 6
    "ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒì¼ìˆ˜ë¡ ë” ë‹¤ê°€ê°€ìš”.", // 7
    "ê°€ê¹Œìš´ ì‚¬ëŒì¼ìˆ˜ë¡ í‘œí˜„ì„ ëœì–´ë„ ë¼ìš”. ", // 8
    "ê°€ê¹Œìš´ ì‚¬ëŒì¼ìˆ˜ë¡ í‘œí˜„ì„ ë§ì´ í•´ì•¼í•´ìš”.", // 9
    "ê°ˆë“±ì€ ì´ì„±ì ì¸ ì´ì•¼ê¸°ë¡œ í’€ì–´ì•¼í•´ìš”.", // 10
    "ê°ˆë“±ì€ ê³µê°ì„ í†µí•´ í’€ì–´ì•¼í•´ìš”.", // 11
    "ë¶ˆë§Œì´ ìˆì–´ë„ ê°ˆë“±ì€ ìµœëŒ€í•œ í”¼í•´ì•¼í•´ìš”.", // 12
    "í”¼í•œ ê°ˆë“±ì€ ì–¸ì  ê°€ ë” í¬ê²Œ í„°ì§€ê²Œ ë˜ì–´ìš”.", // 13
    "ê¸°ëŒ€ê°€ í´ìˆ˜ë¡ ê´€ê³„ëŠ” í”ë“¤ë ¤ìš”.", // 14
    "ìƒì²˜ë°›ê³  ì‹¶ì§€ ì•Šì•„ì„œ ë¨¼ì € ê±°ë¦¬ë¥¼ ë‘ì–´ìš”.", // 15
    "í˜¼ìë§Œì˜ ì‹œê°„ì´ ì—†ìœ¼ë©´ ê¸ˆë°© ì§€ì³ìš”.", // 16
    "ê°€ê¹Œìš´ ì‚¬ëŒì¼ìˆ˜ë¡ ì„œë¡œ ì˜ì§€í•˜ë©° ì§€ë‚´ìš”.", // 17
    "ê°€ê¹Œìš´ ì‚¬ëŒì˜ ê°ì •ì„ ì±…ì„ì§ˆ í•„ìš”ëŠ” ì—†ì–´ìš”.", // 18
    "ë¹ ë¥´ê²Œ ê¹Šì–´ì§€ëŠ” ê´€ê³„ëŠ” ë¬´ì„œì›Œìš”.", // 19
    "ëˆ„êµ¬ë“ ì§€ ì•Œì•„ê°ˆ ê±´ ì˜ì›íˆ ë§ì•„ìš”.", // 20
    "íƒ€ì¸ì´ ì €ë¥¼ ë„ˆë¬´ ë§ì´ ì•Œê²Œ ë˜ëŠ” ê±´ ë¶ˆí¸í•´ìš”.", // 21
    "ëª¨ë“  ê°€ê¹Œì›€ì€ ìƒì²˜ë°›ì„ ê°€ëŠ¥ì„±ì„ í¬í•¨í•´ìš”.", // 22
    "ê´€ê³„ëŠ” ì†”ì§í•¨ì´ ìŒ“ì¼ ìˆ˜ë¡ í¸ì•ˆí•´ì ¸ìš”.", // 23
    "íˆ¬ëª…í•œ ì‚¬ëŒì´ ì¢‹ì•„ìš”.", // 24
    "ì €ì™€ ë¹„ìŠ·í•œ ì ì´ ë§ì€ ì‚¬ëŒì´ ì¢‹ì•„ìš”.", // 25
    "ìƒê°ì„ ì•Œê¸° ì–´ë ¤ìš´ ì‚¬ëŒì´ ì¢‹ì•„ìš”.", // 26
    "ì´í•´ê°€ ë˜ì§€ ì•ŠëŠ” ì‚¬ëŒì€ ë©€ë¦¬í•´ì•¼í•´ìš”.", // 27
    "íƒ€ì¸ì—ê²Œ ê¸°ëŒ€ë¥¼ ì¤„ì—¬ì•¼í•´ìš”.", // 28
    "ìƒëŒ€ë°©ì— ë§ì¶”ì–´ ì € ìì‹ ì„ ë°”ê¾¸ê³  ì‹¶ì§€ ì•Šì•„ìš”.", // 29
    "ìƒëŒ€ë°©ì„ ë°”ê¾¸ë ¤ í•´ì„œëŠ” ì•ˆë¼ìš”.", // 30
    "ë”°ëœ»í•œ ë§ë³´ë‹¤ ë”°ëœ»í•œ í–‰ë™ì´ ì¢‹ì•„ìš”.", // 31
    "ê´€ê³„ëŠ” ê°ì •ì„ ì£¼ê³ ë°›ì„ ìˆ˜ë¡ ë‹¨ë‹¨í•´ì ¸ìš”.", // 32
    "ê´€ê³„ëŠ” ê±°ë¦¬ ì¡°ì ˆë¡œ ìœ ì§€ë¼ìš”.", // 33
    "ì‚¬ëŒê³¼ ê°€ê¹Œì›Œì§ˆìˆ˜ë¡ ê°€ë©´ì€ ì‚¬ë¼ì ¸ìš”.", // 34
    "ì‚¬ëŒê³¼ ê°€ê¹Œì›Œì§ˆìˆ˜ë¡ ë” ì¡°ì‹¬íˆ ë‹¤ë¤„ì•¼í•´ìš”.", // 35
  ];

  const alienLayer = document.querySelector('.alien-layer');
  alienLayer.innerHTML = "";

  const ALIEN_IMAGES = [
    'alien1.png',
    'alien2.png',
    'alien3.png',
    'alien4.png',
    'alien5.png',
    'alien6.png',
    'alien7.png'
  ];

  const ALIEN_COUNT = 35;
  const RADIUS_VW   = -95;

  for (let i = 0; i < ALIEN_COUNT; i++) {
    const slot = document.createElement('div');
    slot.className = 'alien-slot';

    const sprite = document.createElement('div');
    sprite.className = 'alien-sprite';

    const imgIndex = i % ALIEN_IMAGES.length;
    sprite.style.backgroundImage = `url("${ALIEN_IMAGES[imgIndex]}")`;

    const bubble = document.createElement('div');
    bubble.className = 'alien-bubble';
    bubble.textContent = ALIEN_LINES[i];

    slot.appendChild(sprite);
    slot.appendChild(bubble);

    const angle = (360 / ALIEN_COUNT) * i;
    slot.style.transform =
      `translate(-50%, -50%) rotate(${angle}deg) translateY(${RADIUS_VW}vw)`;

    alienLayer.appendChild(slot);
  }

  /* ğŸ”¹ ë§í’ì„  hover + í´ë¦­ í† ê¸€ (ìŠ¬ë¡¯ ê¸°ì¤€) */
  const alienSlots = document.querySelectorAll('.alien-slot');
  alienSlots.forEach(slot => {
    const bubble = slot.querySelector('.alien-bubble');
    const sprite = slot.querySelector('.alien-sprite');

    // ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ë§í’ì„  ë³´ì´ê¸°
    slot.addEventListener('mouseenter', () => {
      bubble.classList.add('visible');
    });

    // ì„ íƒë˜ì–´ ìˆì§€ ì•Šì€ ì• ë§Œ ìˆ¨ê¹€
    slot.addEventListener('mouseleave', () => {
      if (!bubble.classList.contains('selected')) {
        bubble.classList.remove('visible');
      }
    });

    // ğŸ”¹ í´ë¦­: íŒ ì• ë‹ˆë©”ì´ì…˜ + ì„ íƒ í† ê¸€
    slot.addEventListener('click', () => {
      const text = bubble.textContent.trim();
      if (!text) return;

      // í´ë¦­ ì‹œ ì ê¹ ì‘ì•„ì¡Œë‹¤ê°€ í†µ! í•˜ê³  ì»¤ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜
      sprite.classList.add('pop');
      setTimeout(() => {
        sprite.classList.remove('pop');
      }, 220);

      const nowSelected = !bubble.classList.contains('selected');

if (nowSelected) {
  bubble.classList.add('selected');
  bubble.classList.add('visible');

  sprite.classList.add('glow');
  sprite.classList.add('selected');   // â­ ì´ ì¤„ ì¶”ê°€!

  spawnParticlesAt(sprite);
} else {
  bubble.classList.remove('selected');
  bubble.classList.remove('visible');

  sprite.classList.remove('glow');
  sprite.classList.remove('selected');  // â­ ì´ ì¤„ ì¶”ê°€!
}

    });
  });

  /* ============================
     ğŸ”¹ ì™¸ê³„ì¸ 2í”„ë ˆì„ ì• ë‹ˆë©”ì´ì…˜
     ============================ */
  const aliens = document.querySelectorAll('.alien-sprite');

  let alienFrame = 0;
  const FRAME_VW = 16;
  const ALIEN_FPS = 4;
  const ALIEN_INTERVAL = 1000 / ALIEN_FPS;

  setInterval(() => {
    alienFrame = 1 - alienFrame;
    const offsetX = -FRAME_VW * alienFrame;

    aliens.forEach((alien) => {
      alien.style.backgroundPosition = `${offsetX}vw 0`;
    });
  }, ALIEN_INTERVAL);

  /* ============================
     ğŸ”¹ íšŒì „ ìƒíƒœ
     ============================ */
  let lastScrollY = window.scrollY;
  let planetAngle = 0;
  let orbitAngle = 0;
  let bgAngle = 0;

  /* ============================
     ğŸ”¹ ê±·ëŠ” ìºë¦­í„° ìŠ¤í”„ë¼ì´íŠ¸
     ============================ */
  const FRAME_WIDTH = 800;
  const TOTAL_FRAMES = 12;
  const IDLE_FRAME = 0;
  let currentFrame = IDLE_FRAME;
  let stopTimer = null;

  let frameProgress = 0;
  const FRAME_SPEED_FACTOR = 0.05;

  const CHAR_RATIO = 0.25;
  const ON_SURFACE_OFFSET = 0.06;

  // ğŸ‘‰ ë°©í–¥ ì œì–´ìš©: 1 = ê¸°ë³¸, -1 = ì¢Œìš°ë°˜ì „(ìœ„ë¡œ ìŠ¤í¬ë¡¤ ì‹œ)
  let walkerDirection = 1;

  function positionWalker() {
    const rect = planet.getBoundingClientRect();
    const planetSize = rect.width;

    const charSize = planetSize * CHAR_RATIO;
    const scale = charSize / FRAME_WIDTH;

    walker.style.transform = `translateX(-50%) scale(${walkerDirection * scale}, ${scale})`;

    const planetTop = rect.top;
    const baseBottom = window.innerHeight - planetTop;
    const bottom = baseBottom - planetSize * ON_SURFACE_OFFSET;

    walker.style.bottom = `${bottom}px`;
  }

  function setWalkerFrame(frameIndex) {
    const x = -FRAME_WIDTH * frameIndex;
    walker.style.backgroundPosition = `${x}px 0`;
  }

  setWalkerFrame(IDLE_FRAME);
  positionWalker();
  window.addEventListener('resize', positionWalker);

  /* ============================
     ğŸ”¹ íŒŒí‹°í´ íš¨ê³¼ (ì™¸ê³„ì¸ ìœ„ì¹˜ ê¸°ì¤€)
     ============================ */
  /* ============================
   ğŸ”¹ íŒŒí‹°í´ íš¨ê³¼ (ì™¸ê³„ì¸ ìœ„ì¹˜ ê¸°ì¤€)
   ============================ */
function spawnParticlesAt(targetEl) {
  const rect = targetEl.getBoundingClientRect();
  const centerX = rect.left + rect.width / 2;
  const centerY = rect.top + rect.height / 2;

  const count = 18; // ë³„ ê°œìˆ˜ (ì›í•˜ë©´ 12~24 ì‚¬ì´ë¡œ ë§ˆìŒëŒ€ë¡œ)
  for (let i = 0; i < count; i++) {
    const p = document.createElement('div');
    p.className = 'particle';

    // ì™¸ê³„ì¸ ì¤‘ì‹¬ ê¸°ì¤€ ìœ„ì¹˜ ê³ ì •
    p.style.left = `${centerX}px`;
    p.style.top  = `${centerY}px`;

    // ğŸ”¹ ëœë¤ ë°©í–¥ + ê±°ë¦¬
    const angle = Math.random() * Math.PI * 2; // 0 ~ 2Ï€ (360ë„)
    const distance = 100 + Math.random() * 120;  // 40~90px ì‚¬ì´

    const dx = Math.cos(angle) * distance;
    const dy = Math.sin(angle) * distance;

    // CSS ì»¤ìŠ¤í…€ ë³€ìˆ˜ë¡œ ì „ë‹¬ â†’ @keyframesì—ì„œ ì‚¬ìš©
    p.style.setProperty('--dx', `${dx}px`);
    p.style.setProperty('--dy', `${dy}px`);

    document.body.appendChild(p);

    setTimeout(() => {
      p.remove();
    }, 900);
  }
}


  /* ============================
     ğŸ”¹ ê³ í–¥ë³„ íˆ´íŒ ìœ„ì¹˜ ì¶”ì 
     ============================ */
  let hoveredDot = null;
  let tooltipAnimId = null;

  function updateTooltipPosition() {
    if (!hoveredDot) return;

    const rect = hoveredDot.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;

    const offsetX = 65;
    const offsetY = 0;

    tooltip.style.left = (centerX + offsetX) + 'px';
    tooltip.style.top  = (centerY + offsetY) + 'px';

    tooltipAnimId = requestAnimationFrame(updateTooltipPosition);
  }

  dots.forEach((dot) => {
    const title = dot.getAttribute('data-title');
    const desc = dot.getAttribute('data-desc');

    dot.addEventListener('mouseenter', () => {
      if (!title) return;

      hoveredDot = dot;
      tooltipTitle.textContent = title;
      tooltipDesc.textContent = desc || "";

      tooltip.style.opacity = '1';
      tooltip.style.visibility = 'visible';

      if (tooltipAnimId) cancelAnimationFrame(tooltipAnimId);
      updateTooltipPosition();
    });

    dot.addEventListener('mouseleave', () => {
      hoveredDot = null;
      if (tooltipAnimId) {
        cancelAnimationFrame(tooltipAnimId);
        tooltipAnimId = null;
      }
      tooltip.style.opacity = '0';
      tooltip.style.visibility = 'hidden';
    });

    dot.addEventListener('click', () => {
      if (title === 'Go Home') {
        window.location.href = 'index.html?skipIntro=true';
      }
    });
  });

  /* ============================
     ğŸ”¹ ìŠ¤í¬ë¡¤ ì‹œ í–‰ì„±/ë³„/ë°°ê²½ íšŒì „ + ê±·ê¸°
     ============================ */
 // lastScrollY, window.scrollY ì•ˆ ì“°ê³  wheel ì›€ì§ì„ë§Œ ì‚¬ìš©
window.addEventListener('wheel', (e) => {
  const delta = e.deltaY; // ì†ê°€ë½/íœ ì´ ì‹¤ì œë¡œ ì›€ì§ì¸ ì–‘

  if (delta === 0) return;

  const direction = delta > 0 ? 1 : -1;
  let d = Math.abs(delta);

  // ë„ˆë¬´ ë¯¸ì¹œ ë“¯ì´ íŠ€ëŠ” ê±° ë°©ì§€ìš© ì‚´ì§ í´ë¨í”„
  if (d < 0.5) d = 0.5;
  if (d > 80)  d = 80;

  // ğŸ”¹ í–‰ì„± / ë³„ / ë°°ê²½ íšŒì „
  planetAngle += direction * d * 0.03;
  orbitAngle  += direction * d * 0.01;
  bgAngle     += direction * d * 0.003;

  planet.style.setProperty('--planet-angle', `${planetAngle}deg`);
  if (orbitLayer) {
    orbitLayer.style.setProperty('--orbit-angle', `${orbitAngle}deg`);
  }
  bg.style.transform = `translate(-50%, -50%) rotate(${bgAngle}deg)`;

  // ğŸ”¹ ê±·ëŠ” ìºë¦­í„° ë°©í–¥ + ìœ„ì¹˜
  walkerDirection = (direction > 0) ? 1 : -1;
  positionWalker();

  // ğŸ”¹ ìŠ¤í”„ë¼ì´íŠ¸ ì†ë„
  let speed = d;
  if (speed < 0.8) speed = 0.8;
  if (speed > 8)   speed = 8;

  frameProgress += speed * FRAME_SPEED_FACTOR;

  while (frameProgress >= 1) {
    frameProgress -= 1;

    if (currentFrame === IDLE_FRAME) {
      currentFrame = 1;
    } else {
      currentFrame++;
      if (currentFrame >= TOTAL_FRAMES) {
        currentFrame = 1;
      }
    }
    setWalkerFrame(currentFrame);
  }

  if (stopTimer) clearTimeout(stopTimer);
  stopTimer = setTimeout(() => {
    currentFrame = IDLE_FRAME;
    frameProgress = 0;
    setWalkerFrame(currentFrame);
  }, 250);
});
document.querySelector('.relation-prev-btn').addEventListener('click', () => {
  window.location.href = 'index.html?skipIntro=true';
});

document.querySelector('.relation-next-btn').addEventListener('click', () => {
  window.location.href = 'index3.html';
});

</script>

</body>
</html>
