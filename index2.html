<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Planets of Faith</title>
  <link href="https://fonts.cdnfonts.com/css/farm-wave-free" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang&family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  background: #2a231f;
  height: 10000vh; /* ìŠ¤í¬ë¡¤ ê±°ë¦¬ */

  -ms-overflow-style: none;  /* IE, Edge */
  scrollbar-width: none;     /* Firefox */
}
body::-webkit-scrollbar {
  display: none;
}

/* ë“œë˜ê·¸ ë°©ì§€ìš© ê³µí†µ í´ë˜ìŠ¤ */
.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* ë©”ì¸ í—¤ë”© (Farm Wave í°íŠ¸) */
.main-heading {
  font-family: 'Farm Wave Free', sans-serif;
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  color: #F4E4DC;
  font-size: 2.7rem;
  text-shadow: 0 0 12px rgba(0,0,0,0.6);
  z-index: 20;
  white-space: nowrap;
}

/* ìƒë‹¨ ì„œë¸Œí…ìŠ¤íŠ¸ */
.title {
  font-family: "Gowun Batang", serif;
  position: fixed;
  top: 80px; /* ë©”ì¸ í—¤ë”© ì•„ë˜ */
  left: 50%;
  transform: translateX(-50%);
  color: #F4E4DC;
  font-size: 1rem;
  text-shadow: 0 0 8px rgba(0,0,0,0.6);
  z-index: 20;
}

/* í–‰ì„± ì „ì²´ ë°•ìŠ¤ */
.planet {
  position: fixed;
  left: 50%;
  bottom: 0;
  transform: translate(-50%, 160vw);
  width: 180vw;
  height: 180vw;
  z-index: 5;
}

/* ì‹¤ì œë¡œ íšŒì „í•˜ëŠ” í–‰ì„± ì´ë¯¸ì§€(ê°€ìƒ ìš”ì†Œ) */
.planet::before {
  content: "";
  position: absolute;
  inset: 0;
  background: url("planet0.png") center top / cover no-repeat;
  transform-origin: 50% 50%;
  transform: rotate(var(--planet-angle, 0deg));
    pointer-events: none; 
}

/* ë°°ê²½ ìš°ì£¼ ë ˆì´ì–´ */
.bg-layer {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 220vmax;
  height: 220vmax;
  background: url("backgroundspace.jpg") center/cover no-repeat;
  z-index: -2;
  pointer-events: none;
  transform-origin: 50% 60%;
  transform: translate(-50%, -50%) rotate(0deg);
}

/* â­ í–‰ì„± ì¤‘ì‹¬ì„ ê¸°ì¤€ìœ¼ë¡œ ë„ëŠ” ë³„ ë ˆì´ì–´ */
.orbit-layer {
  position: absolute;
  inset: 0;
  transform-origin: 50% 50%;
  transform: rotate(var(--orbit-angle, 0deg));
  z-index: 15;
  opacity: 1;
  pointer-events: auto;
  transition: opacity 1s ease;
    pointer-events: none; 
}

/* ë³„ ì•µì»¤ */
.orbit-dot {
  position: absolute;
  top: 50%;
  left: 50%;
  transform-origin: 50% 50%;
    pointer-events: auto;
}

/* ê³ í–¥ë³„ ìœ„ì¹˜ */
.orbit-dot:nth-child(1) {
  transform: translate(-50%, -50%) rotate(0deg) translateY(-114vw);
}

/* ì‹¤ì œ ë³„ ì½”ì–´ */
.orbit-dot::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: white;
  box-shadow: 0 0 12px rgba(255,255,255,0.9);
  transform: translate(-50%, -50%);
  animation: twinkle 3s ease-in-out infinite alternate;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

/* í˜¸ë²„ hitbox */
.orbit-dot::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 30px;
  height: 30px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: transparent;
}

/* í˜¸ë²„ ì‹œ */
.orbit-dot:hover::after {
  transform: translate(-50%, -50%) scale(1.35);
  animation: none;
  box-shadow: 0 0 20px rgba(255,255,255,1);
}

/* ë°˜ì§ì„ */
@keyframes twinkle {
  0%   { opacity: 0.3; box-shadow: 0 0 4px rgba(255,255,255,0.4); }
  50%  { opacity: 0.9; box-shadow: 0 0 12px rgba(255,255,255,1); }
  100% { opacity: 0.5; box-shadow: 0 0 6px rgba(255,255,255,0.7); }
}

/* íˆ´íŒ (ê³ í–¥ë³„ìš©) */
.tooltip {
  position: fixed;
  padding: 8px 12px;
  background: #F4E4DC;
  color: #2a231f;
  border-radius: 8px;
  font-family: "Gowun Batang", serif;
  font-size: 0.8rem;
  box-shadow: 0 4px 16px rgba(0,0,0,0.25);
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
  transform: translate(-15%, -50%);
  transition: opacity 0.15s ease;
  z-index: 100000;
}

.tooltip-title {
  font-weight: 700;
}

.tooltip-desc {
  line-height: 1.4;
  white-space: nowrap;
}

/* ê±·ëŠ” ìºë¦­í„° */
.walker {
  position: fixed;
  left: 50%;
  bottom: 8vh;
  transform: translateX(-50%);
  width: 800px;
  height: 800px;
  background-image: url("walkani.png");
  background-repeat: no-repeat;
  background-position: 0 0;
  transform-origin: 50% 100%;
  opacity: 1;
  transition: opacity 1s ease;
  z-index: 10;
  pointer-events: none;
}

/* ğŸ”¹ ì™¸ê³„ì¸ ë ˆì´ì–´ */
.alien-layer {
  position: absolute;
  inset: 0;
  transform-origin: 50% 50%;
  transform: rotate(var(--planet-angle, 0deg));
  z-index: 8;
  pointer-events: auto;
}

/* í–‰ì„± ë‘˜ë ˆì— ë°°ì¹˜ë  ì™¸ê³„ì¸ ì•µì»¤ */
.alien-slot {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20vw;
  height: 20vw;
  transform-origin: 50% 50%;
}

/* ì™¸ê³„ì¸ ìŠ¤í”„ë¼ì´íŠ¸ ê³µí†µ */
.alien-sprite {
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 16vw;
  height: 16vw;
  transform: translateX(-50%) scale(0.9);
  transform-origin: 50% 100%;

  background-repeat: no-repeat;
  background-size: 32vw 16vw; /* 2í”„ë ˆì„ ì‹œíŠ¸ */
  background-position: 0 0;

  cursor: pointer;
}

/* ë§í’ì„  (ê° ì™¸ê³„ì¸ ì „ìš©) */
.alien-bubble {
  position: absolute;
  left: 50%;
  bottom: 100%;  /* ê¸°ë³¸: ì™¸ê³„ì¸ ë¨¸ë¦¬ ìœ„ */
  transform: translate(-50%, +400%);
  transform-origin: 50% 100%;

  background: #F4E4DC;
  color: #2a231f;
  font-family: "Gowun Batang", serif;
  font-size: 0.75rem;

  padding: 6px 10px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);

  max-width: 220px;
  white-space: nowrap;
  opacity: 0;

  z-index: 9;
  pointer-events: none;
  transition: opacity 0.2s ease, transform 0.2s ease;
}

/* ë§í’ì„  ê¼¬ë¦¬ (ìœ„ìª½ ë²„ì „) */
.alien-bubble::after {
  content: "";
  position: absolute;
  left: 50%;
  bottom: -6px;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 6px solid #F4E4DC;
}

/* ìœ„ìª½ìœ¼ë¡œ ëœ¨ëŠ” ê¸°ë³¸ visible ìƒíƒœ */
.alien-bubble.visible {
  opacity: 1;
  transform: translate(-50%, +350%);
}

/* ğŸ”¹ í™”ë©´ ìœ„ìª½ì— ë„ˆë¬´ ê°€ê¹Œìš´ ì• ë“¤ì€ ë§í’ì„  ì•„ë˜ë¡œ ë’¤ì§‘ê¸° */
.alien-bubble.below {
  bottom: auto;
  top: 100%;  /* ì™¸ê³„ì¸ ì•„ë˜ìª½ì— ëœ¨ê²Œ */
  transform: translate(-50%, 40%);
}

.alien-bubble.below::after {
  bottom: auto;
  top: -6px;
  border-top: none;
  border-bottom: 6px solid #F4E4DC;
}

/* below + visible ì¡°í•©ì¼ ë•Œ transform ë³„ë„ ì ìš© */
.alien-bubble.visible.below {
  transform: translate(-50%, 60%);
}

/* ê° ì™¸ê³„ì¸ ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ ì—°ê²° */
.alien1 { background-image: url("alien1.png"); }
.alien2 { background-image: url("alien2.png"); }
.alien3 { background-image: url("alien3.png"); }
.alien4 { background-image: url("alien4.png"); }
.alien5 { background-image: url("alien5.png"); }
.alien6 { background-image: url("alien6.png"); }
.alien7 { background-image: url("alien7.png"); }

/* ì „ì²´ ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
html {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
html::-webkit-scrollbar {
  display: none;
}
</style>
</head>

<body>
  <!-- ë°°ê²½ ìš°ì£¼ -->
  <div class="bg-layer"></div>

  <!-- í–‰ì„± + ê³ í–¥ë³„ + ì™¸ê³„ì¸ë“¤ -->
  <div class="planet">
    <div class="orbit-layer">
      <div class="orbit-dot"
           data-title="Go Home"
           data-desc="íƒí—˜ì„ ë§ˆì¹œ ë’¤ ê³ í–¥ë³„ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤."></div>
    </div>

    <!-- ì™¸ê³„ì¸ë“¤: JSê°€ 35ë§ˆë¦¬ ì±„ìš¸ ì˜ˆì • -->
    <div class="alien-layer"></div>
  </div>

  <!-- ìƒë‹¨ í…ìŠ¤íŠ¸ë“¤ -->
  <div class="main-heading no-select">The Planet of Relation</div>
  <div class="title no-select">í–‰ì„±ì„ íƒí—˜í•˜ë©°, ë§ˆìŒì— ë“œëŠ” ë§ë“¤ì„ í´ë¦­í•´ ìˆ˜ì§‘í•´ë³´ì„¸ìš”.</div>

  <!-- ê±·ëŠ” ìºë¦­í„° -->
  <div class="walker"></div>

  <!-- íˆ´íŒ (ê³ í–¥ë³„ìš©) -->
  <div class="tooltip" id="planetTooltip">
    <div class="tooltip-title"></div>
    <div class="tooltip-desc"></div>
  </div>

<script>
  const planet = document.querySelector('.planet');
  const bg = document.querySelector('.bg-layer');
  const walker = document.querySelector('.walker');
  const orbitLayer = document.querySelector('.orbit-layer');
  const dots = document.querySelectorAll('.orbit-dot');
  const tooltip = document.getElementById('planetTooltip');
  const tooltipTitle = tooltip.querySelector('.tooltip-title');
  const tooltipDesc = tooltip.querySelector('.tooltip-desc');

  /* ============================
     ğŸ”¹ ì™¸ê³„ì¸ë“¤ ë™ì ìœ¼ë¡œ ìƒì„±
     ============================ */
/* ============================
   ğŸ”¹ ì™¸ê³„ì¸ë“¤ ë¦¬ìŠ¤íŠ¸ (ì´ 35ê°œ)
   ë‚˜ì¤‘ì— ê° ë¬¸ì¥ì„ ì—¬ê¸°ì„œ í•˜ë‚˜ì”© ì±„ìš°ë©´ ë¨!
   ============================ */

const ALIEN_LINES = [
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 1
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 2
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 3
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 4
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 5
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 6
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 7
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 8
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 9
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 10
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 11
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 12
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 13
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 14
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 15
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 16
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 17
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 18
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 19
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 20
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 21
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 22
  "(ì¶”í›„ ë” ê¸°ì… ì˜ˆì •ì…ë‹ˆë‹¤.)", // 23
  "íˆ¬ëª…í•œ ì‚¬ëŒì´ ì¢‹ì•„ìš”.", // 24
  "ì €ì™€ ë¹„ìŠ·í•œ ì ì´ ë§ì€ ì‚¬ëŒì´ ì¢‹ì•„ìš”.", // 25
  "ìƒê°ì„ ì•Œê¸° ì–´ë ¤ìš´ ì‚¬ëŒì´ ì¢‹ì•„ìš”.", // 26
  "ì´í•´ê°€ ë˜ì§€ ì•ŠëŠ” ì‚¬ëŒì€ ë©€ë¦¬í•´ì•¼í•´ìš”.", // 27
  "íƒ€ì¸ì—ê²Œ ê¸°ëŒ€ë¥¼ ì¤„ì—¬ì•¼í•´ìš”.", // 28
  "ìƒëŒ€ë°©ì„ ë§ì¶° ì € ìì‹ ì„ ë°”ê¾¸ë©´ ì•ˆë¼ìš”.", // 29
  "ìƒëŒ€ë°©ì„ ë°”ê¾¸ë ¤ í•´ì„œëŠ” ì•ˆë¼ìš”.", // 30
  "ë”°ëœ»í•œ ë§ë³´ë‹¤ ë”°ëœ»í•œ í–‰ë™ì´ ì¢‹ì•„ìš”.", // 31
  "ê´€ê³„ëŠ” ê°ì •ì„ ì£¼ê³ ë°›ì„ ìˆ˜ë¡ ë‹¨ë‹¨í•´ì ¸ìš”.", // 32
  "ê´€ê³„ëŠ” ê±°ë¦¬ ì¡°ì ˆë¡œ ìœ ì§€ë¼ìš”.", // 33
  "ì‚¬ëŒê³¼ ê°€ê¹Œì›Œì§ˆìˆ˜ë¡ ê°€ë©´ì€ ì‚¬ë¼ì ¸ìš”.", // 34
  "ì‚¬ëŒê³¼ ê°€ê¹Œì›Œì§ˆìˆ˜ë¡ ë” ì¡°ì‹¬íˆ ë‹¤ë¤„ì•¼í•´ìš”.", // 35
];

const alienLayer = document.querySelector('.alien-layer');
alienLayer.innerHTML = "";

/* ============================
   ğŸ”¹ ì´ 35ê°œ ìŠ¬ë¡¯ ìƒì„±
   ============================ */

const ALIEN_IMAGES = [
  'alien1.png',
  'alien2.png',
  'alien3.png',
  'alien4.png',
  'alien5.png',
  'alien6.png',
  'alien7.png'
];

const ALIEN_COUNT = 35;
const RADIUS_VW   = -96;

for (let i = 0; i < ALIEN_COUNT; i++) {

  const slot = document.createElement('div');
  slot.className = 'alien-slot';

  const sprite = document.createElement('div');
  sprite.className = 'alien-sprite';

  // ì´ë¯¸ì§€ ìˆœí™˜
  const imgIndex = i % ALIEN_IMAGES.length;
  sprite.style.backgroundImage = `url("${ALIEN_IMAGES[imgIndex]}")`;

  // ë§í’ì„ 
  const bubble = document.createElement('div');
  bubble.className = 'alien-bubble';

  bubble.textContent = ALIEN_LINES[i];

  slot.appendChild(sprite);
  slot.appendChild(bubble);

  // ìë¦¬ ë°°ì¹˜
  const angle = (360 / ALIEN_COUNT) * i;
  slot.style.transform =
    `translate(-50%, -50%) rotate(${angle}deg) translateY(${RADIUS_VW}vw)`;

  alienLayer.appendChild(slot);
}


  /* ğŸ”¹ ë§í’ì„  hover ì œì–´ + í™”ë©´ ìœ„ìª½ì—ì„œëŠ” ì•„ë˜ë¡œ ë’¤ì§‘ê¸° */
  const alienSlots = document.querySelectorAll('.alien-slot');
  alienSlots.forEach(slot => {
    const bubble = slot.querySelector('.alien-bubble');

    slot.addEventListener('mouseenter', () => {
      const rect = slot.getBoundingClientRect();
      const margin = 80; // í™”ë©´ ìƒë‹¨ì—ì„œ 80px ì´ë‚´ë©´ ì•„ë˜ë¡œ ë’¤ì§‘ê¸°

      if (rect.top < margin) {
        bubble.classList.add('below');
      } else {
        bubble.classList.remove('below');
      }

      bubble.classList.add('visible');
    });

    slot.addEventListener('mouseleave', () => {
      bubble.classList.remove('visible');
    });
  });

  /* ============================
     ğŸ”¹ ì™¸ê³„ì¸ 2í”„ë ˆì„ ì• ë‹ˆë©”ì´ì…˜
     ============================ */
  const aliens = document.querySelectorAll('.alien-sprite');

  let alienFrame = 0;
  const FRAME_VW = 16;        // í•œ í”„ë ˆì„ ê°€ë¡œí­ (vw)
  const ALIEN_FPS = 4;
  const ALIEN_INTERVAL = 1000 / ALIEN_FPS;

  setInterval(() => {
    alienFrame = 1 - alienFrame;
    const offsetX = -FRAME_VW * alienFrame; // 0vw ë˜ëŠ” -16vw

    aliens.forEach((alien) => {
      alien.style.backgroundPosition = `${offsetX}vw 0`;
    });
  }, ALIEN_INTERVAL);

  /* ============================
     ğŸ”¹ íšŒì „ ìƒíƒœ
     ============================ */
  let lastScrollY = window.scrollY;
  let planetAngle = 0;
  let orbitAngle = 0;
  let bgAngle = 0;

  /* ============================
     ğŸ”¹ ê±·ëŠ” ìºë¦­í„° ìŠ¤í”„ë¼ì´íŠ¸
     ============================ */
  const FRAME_WIDTH = 800;
  const TOTAL_FRAMES = 12;
  const IDLE_FRAME = 0;
  let currentFrame = IDLE_FRAME;
  let stopTimer = null;

  let frameProgress = 0;
  const FRAME_SPEED_FACTOR = 0.05;

  const CHAR_RATIO = 0.25;
  const ON_SURFACE_OFFSET = 0.06;

  function positionWalker() {
    const rect = planet.getBoundingClientRect();
    const planetSize = rect.width;

    const charSize = planetSize * CHAR_RATIO;
    const scale = charSize / FRAME_WIDTH;
    walker.style.transform = `translateX(-50%) scale(${scale})`;

    const planetTop = rect.top;
    const baseBottom = window.innerHeight - planetTop;
    const bottom = baseBottom - planetSize * ON_SURFACE_OFFSET;

    walker.style.bottom = `${bottom}px`;
  }

  function setWalkerFrame(frameIndex) {
    const x = -FRAME_WIDTH * frameIndex;
    walker.style.backgroundPosition = `${x}px 0`;
  }

  setWalkerFrame(IDLE_FRAME);
  positionWalker();
  window.addEventListener('resize', positionWalker);

  /* ============================
     ğŸ”¹ ê³ í–¥ë³„ íˆ´íŒ ìœ„ì¹˜ ì¶”ì 
     ============================ */
  let hoveredDot = null;
  let tooltipAnimId = null;

  function updateTooltipPosition() {
    if (!hoveredDot) return;

    const rect = hoveredDot.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;

    const offsetX = 65;
    const offsetY = 0;

    tooltip.style.left = (centerX + offsetX) + 'px';
    tooltip.style.top  = (centerY + offsetY) + 'px';

    tooltipAnimId = requestAnimationFrame(updateTooltipPosition);
  }

  dots.forEach((dot) => {
  const title = dot.getAttribute('data-title');
  const desc = dot.getAttribute('data-desc');

  dot.addEventListener('mouseenter', () => {
    if (!title) return;

    hoveredDot = dot;
    tooltipTitle.textContent = title;
    tooltipDesc.textContent = desc || "";

    tooltip.style.opacity = '1';
    tooltip.style.visibility = 'visible';

    if (tooltipAnimId) cancelAnimationFrame(tooltipAnimId);
    updateTooltipPosition();
  });

  dot.addEventListener('mouseleave', () => {
    hoveredDot = null;
    if (tooltipAnimId) {
      cancelAnimationFrame(tooltipAnimId);
      tooltipAnimId = null;
    }
    tooltip.style.opacity = '0';
    tooltip.style.visibility = 'hidden';
  });

  // ğŸ”¹ ì—¬ê¸° í´ë¦­ ì‹œ ì´ë™ ì²˜ë¦¬
dot.addEventListener('click', () => {
  if (title === 'Go Home') {
    window.location.href = 'index.html?skipIntro=true';
  }
});

});


  /* ============================
     ğŸ”¹ ìŠ¤í¬ë¡¤ ì‹œ í–‰ì„±/ë³„/ë°°ê²½ íšŒì „ + ê±·ê¸°
     ============================ */
  window.addEventListener('scroll', () => {
    const scrollY = window.scrollY;
    const delta = scrollY - lastScrollY;
    lastScrollY = scrollY;

    const d = Math.abs(delta);

    planetAngle += d * 0.03;
    orbitAngle  += d * 0.01;
    bgAngle     += d * 0.003;

    planet.style.setProperty('--planet-angle', `${planetAngle}deg`);

    if (orbitLayer) {
      orbitLayer.style.setProperty('--orbit-angle', `${orbitAngle}deg`);
    }

    bg.style.transform = `translate(-50%, -50%) rotate(${bgAngle}deg)`;

    let speed = d;
    if (speed < 0.8) speed = 0.8;
    if (speed > 8)   speed = 8;

    frameProgress += speed * FRAME_SPEED_FACTOR;

    while (frameProgress >= 1) {
      frameProgress -= 1;

      if (currentFrame === IDLE_FRAME) {
        currentFrame = 1;
      } else {
        currentFrame++;
        if (currentFrame >= TOTAL_FRAMES) {
          currentFrame = 1;
        }
      }
      setWalkerFrame(currentFrame);
    }

    if (stopTimer) clearTimeout(stopTimer);
    stopTimer = setTimeout(() => {
      currentFrame = IDLE_FRAME;
      frameProgress = 0;
      setWalkerFrame(currentFrame);
    }, 250);
  });
</script>

</body>
</html>
